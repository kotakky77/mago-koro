<% provide(:title, "招待 - #{@child.name} - まごころおくりもの") %>

<div class="container" style="padding-top: 30px;">
  <div class="invitation-welcome" style="text-align: center; margin-bottom: 40px;">
    <h1 style="color: #4a6da7; font-size: 48px; margin-bottom: 20px;">
      <i class="fas fa-heart" style="color: #e91e63;"></i>
      まごころおくりもの
    </h1>
    <h2 style="color: #333; font-size: 32px; margin-bottom: 10px;">
      <%= @child.name %>からの招待
    </h2>
    <p style="font-size: 20px; color: #6c757d;">
      <%= @parent.name %>さんがあなたを招待しています
    </p>
  </div>

  <div class="row">
    <div class="col-md-8 offset-md-2">
      <div class="invitation-card" style="background: white; border: 1px solid #dee2e6; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); overflow: hidden;">
        <div class="card-header" style="background: linear-gradient(135deg, #4a6da7 0%, #6c8fc7 100%); color: white; padding: 30px; text-align: center;">
          <div class="child-avatar" style="width: 80px; height: 80px; background: white; border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center;">
            <i class="fas fa-baby" style="font-size: 40px; color: #4a6da7;"></i>
          </div>
          <h3 style="margin: 0; font-size: 28px;"><%= @child.name %></h3>
          <p style="margin: 10px 0 0 0; font-size: 18px; opacity: 0.9;">
            <%= @child.age %>歳
            <% if @child.birthday.present? %>
              · <%= @child.birthday.strftime('%m月%d日') %>生まれ
            <% end %>
          </p>
        </div>
        
        <div class="card-body" style="padding: 40px;">
          <div class="invitation-message" style="text-align: center; margin-bottom: 30px;">
            <h4 style="color: #333; font-size: 24px; margin-bottom: 15px;">
              お孫さんの成長を一緒に見守りませんか？
            </h4>
            <p style="font-size: 18px; color: #6c757d; line-height: 1.6;">
              <%= @parent.name %>さんが<%= @child.name %>の成長記録や「ほしいものリスト」を共有したいと思っています。<br>
              アカウントを作成すると、以下のことができるようになります：
            </p>
          </div>

          <div class="features-list" style="margin-bottom: 30px;">
            <div class="feature-item" style="display: flex; align-items: center; margin-bottom: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
              <div class="feature-icon" style="width: 40px; height: 40px; background: #e3f2fd; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
                <i class="fas fa-images" style="color: #1976d2;"></i>
              </div>
              <div>
                <strong style="color: #333;">成長写真の閲覧</strong>
                <p style="margin: 0; color: #6c757d; font-size: 14px;"><%= @child.name %>の日々の成長を写真で確認できます</p>
              </div>
            </div>

            <div class="feature-item" style="display: flex; align-items: center; margin-bottom: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
              <div class="feature-icon" style="width: 40px; height: 40px; background: #e8f5e8; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
                <i class="fas fa-list" style="color: #388e3c;"></i>
              </div>
              <div>
                <strong style="color: #333;">ほしいものリスト</strong>
                <p style="margin: 0; color: #6c757d; font-size: 14px;"><%= @child.name %>が欲しがっているものを確認して、プレゼントを贈ることができます</p>
              </div>
            </div>

            <div class="feature-item" style="display: flex; align-items: center; margin-bottom: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
              <div class="feature-icon" style="width: 40px; height: 40px; background: #fff3e0; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
                <i class="fas fa-gift" style="color: #f57c00;"></i>
              </div>
              <div>
                <strong style="color: #333;">記念品の購入</strong>
                <p style="margin: 0; color: #6c757d; font-size: 14px;"><%= @child.name %>の絵が入ったオリジナル記念品を注文できます</p>
              </div>
            </div>
          </div>

          <div class="invitation-actions" style="text-align: center;">
            <%= link_to "アカウントを作成して参加する", accept_invitation_path(@invitation), class: "btn btn-primary btn-lg", style: "background-color: #4a6da7; border: none; padding: 15px 40px; font-size: 20px; border-radius: 8px; text-decoration: none; display: inline-block; margin-bottom: 15px;" %>
            
            <p style="font-size: 14px; color: #6c757d; margin: 0;">
              既にアカウントをお持ちの場合は <%= link_to "こちらからログイン", login_path, style: "color: #4a6da7;" %>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="invitation-footer" style="text-align: center; margin-top: 40px; padding: 20px;">
    <p style="color: #6c757d; font-size: 14px;">
      この招待は<%= @parent.name %>さんから送信されました<br>
      <small>まごころおくりもの - 祖父母と孫をつなぐプラットフォーム</small>
    </p>
  </div>
</div>

<style>
.invitation-card {
  animation: fadeInUp 0.6s ease-out;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.feature-item {
  transition: transform 0.2s, box-shadow 0.2s;
}

.feature-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.btn-primary:hover {
  background-color: #3d5a94 !important;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(74, 109, 167, 0.3);
  transition: all 0.3s ease;
}

.child-avatar {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
  }
}
</style>
