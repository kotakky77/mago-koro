# 「まごころおくりもの」アクティブコンテキスト

## 現在の作業の焦点

「麻雀コロ」というテストとして作成されたアプリのコードベースを「まごころおくりもの」アプリに変更するため、以下の作業が必要です：

1. データベース設計の見直し
   - 既存のマイグレーションファイルを削除し、新しい要件に合わせたマイグレーションを作成する
   - 新しいモデルを作成する

2. コントローラとビューの作成
   - ユーザー種別（孫の親、祖父母、アプリ管理者）ごとに必要なコントローラーを実装
   - 画面設計に基づいたビューを作成

3. ルーティングの設定
   - 新しい要件に合わせたルーティングを定義

## 最近の変更

- プロジェクトの初期設定を確認
- 既存の「麻雀コロ」アプリのコード構造を分析

## 次のステップ

1. データベースのマイグレーションファイルを作成する
   - ユーザー（親、祖父母、管理者）
   - 子供の情報
   - ほしいものリスト
   - 写真データ
   - 招待管理
   - 購入通知

2. モデル間の関連を定義する

3. 基本的なコントローラーとビューをセットアップする
   - 認証機能（ログイン・ログアウト）
   - ユーザー登録機能

## 現在の意思決定と検討事項

- 既存のユーザーモデルを拡張して、ユーザー種別（親、祖父母、管理者）を区別するか、それぞれ別のモデルとするか
- 写真データの保存方法（Active Storage、S3、他のクラウドストレージ）
- 招待用URLの生成と有効期限の設定方法
- 購入通知の実装方法（WebSocketを使用するか、ポーリングで対応するか）